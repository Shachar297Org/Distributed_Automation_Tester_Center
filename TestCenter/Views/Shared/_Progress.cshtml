@model TestCenterConsole.Models.ProgressData


<div class="col-lg-12">
    <div class="page-title-box d-flex align-items-center">
        <div>
            <h4 class="mb-0 font-size-18">PROGRESS</h4>
        </div>
        <div class="ml-auto">
            <button type="button" class="ml-auto btn btn-outline-secondary waves-effect" onclick="location.href='@Url.Action("Progress", "UI")'" id="detailedView">Detailed View</button>
        </div>
    </div>
</div>

<div class="col-xl-12">
    <div class="row">

        <div class="col-md-3">
            <div class="card mini-stats-wid">
                <div class="card-body">
                    <div class="media">
                        <div class="media-body">
                            <p class="text-muted font-weight-medium">Scenario Name</p>
                            <h4 class="mb-0" id="progressScenarioName">@(!string.IsNullOrEmpty(Model.ScenarioName) ? Model.ScenarioName : "-")</h4>
                        </div>

                        <div class="avatar-sm rounded-circle bg-secondary align-self-center mini-stat-icon">
                            <span class="avatar-title rounded-circle bg-secondary">
                                <i class="bx bx-copy-alt font-size-24"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card mini-stats-wid">
                <div class="card-body">
                    <div class="media">
                        <div class="media-body">
                            <p class="text-muted font-weight-medium">Stage</p>
                            <h4 class="mb-0" id="stage">@Model.StageData.Last().Stage</h4>
                        </div>

                        <div class="mini-stat-icon avatar-sm rounded-circle bg-secondary align-self-center">
                            <span class="avatar-title bg-secondary">
                                <i class="bx bx-archive-in font-size-24"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="col-md-3">
            <div class="card mini-stats-wid">
                <div class="card-body">
                    <div class="media">
                        <div class="media-body">
                            <p class="text-muted font-weight-medium">Devices finished</p>
                            <h4 class="mb-0" id="devicesFinished">@(Model.StageData.Last().DevicesNumberFinished != 0 ? Model.StageData.Last().DevicesNumberFinished : "-") </h4>
                        </div>

                        <div class="avatar-sm rounded-circle bg-secondary align-self-center mini-stat-icon">
                            <span class="avatar-title rounded-circle bg-secondary">
                                <i class="bx bxs-devices font-size-24"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card mini-stats-wid">
                <div class="card-body">
                    <div class="media">
                        <div class="media-body">
                            <p class="text-muted font-weight-medium">Number of events</p>
                            <h4 class="mb-0" id="eventsInRds">@(Model.AwsMetricsData.Count != 0 ? Model.AwsMetricsData.Last().EventsInRDS : "-")</h4>
                        </div>

                        <div class="avatar-sm rounded-circle bg-secondary align-self-center mini-stat-icon">
                            <span class="avatar-title rounded-circle bg-secondary">
                                <i class="bx bxs-check-circle font-size-24"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- end row -->

    <div class="card">
        <div class="card-body">
            <h4 class="card-title mb-4 float-sm-left">AWS Resources</h4>
            <div class="float-lg-right">
                <ul class="nav nav-tabs nav-tabs-custom nav-justified">
                    <li class="nav-item">
                        <a class="nav-link active" href="javaScript:void(0);" id="deviceView">Device service</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javaScript:void(0);" id="facadeView">Facade service</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javaScript:void(0);" id="processingView">Processing service</a>
                    </li>
                </ul>
            </div>
            <div class="clearfix"></div>

            <div id="line_chart_datalabel" class="apex-charts" dir="ltr"></div>

        </div>
    </div>
</div>